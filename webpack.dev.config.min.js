const webpack=require("webpack"),HtmlWebpackPlugin=require("html-webpack-plugin"),ExtractTextPlugin=require("extract-text-webpack-plugin"),merge=require("webpack-merge"),webpackBaseConfig=require("./webpack.base.config.js"),fs=require("fs");fs.open("./src/config/env.js","w",function(err,fd){const buf='export default "development";';fs.write(fd,buf,0,buf.length,0,function(err,written,buffer){})}),module.exports=merge(webpackBaseConfig,{devtool:"#source-map",output:{publicPath:"/dist/",filename:"[name].js",chunkFilename:"[name].chunk.js"},plugins:[new ExtractTextPlugin({filename:"[name].css",allChunks:!0}),new webpack.optimize.CommonsChunkPlugin({name:"vendors",filename:"vendors.js"}),new HtmlWebpackPlugin({filename:"../index.html",template:"./src/template/index.ejs",inject:!1})]});